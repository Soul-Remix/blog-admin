{"version":3,"sources":["components/nav/navbar.js","components/loader/loader.js","components/textinput/textinput.js","pages/loginPage/loginPage.js","components/post-card/post-card.js","components/error/error.js","components/textfield/textfield.js","pages/createPage/createPage.js","pages/mainPage/mainPage.js","components/social/social.js","components/post/post.js","components/comment-card/comment-card.js","pages/postPage/postPage.js","App.js","index.js"],"names":["Navbar","isAuth","logout","className","to","exact","activeClassName","onClick","Loader","TextInput","label","props","useField","field","meta","htmlFor","id","name","touched","error","LoginPage","login","loggingIn","initialValues","userName","password","validationSchema","Yup","max","required","onSubmit","values","type","placeholder","PostCard","post","deletePost","editPost","src","image","alt","title","description","views","comments","length","_id","Error","message","window","location","reload","TextField","CreatePage","editing","close","useState","loading","setLoading","setError","history","useHistory","handleSubmit","a","token","localStorage","getItem","formData","FormData","append","fetch","method","body","headers","Authorization","res","json","data","status","push","formProps","encType","onChange","event","setFieldValue","target","files","MainPage","posts","setPosts","setEditing","setPost","fetchPosts","useEffect","handlePostDelete","postId","arr","filter","x","handlePostEdit","map","Social","href","version","width","height","viewBox","d","Post","author","createdAt","dangerouslySetInnerHTML","__html","CommentCard","handleDelete","comment","PostPage","useParams","setData","fetchpost","old","deleteComment","commentId","console","log","App","setIsAuth","setLoggingin","loginError","setLoginError","expiryDate","Date","now","removeItem","JSON","stringify","setItem","expiry","path","ReactDOM","render","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.87c49680.chunk.js","sourcesContent":["import { Link, NavLink } from 'react-router-dom';\r\n\r\nimport './navbar.css';\r\n\r\nconst Navbar = ({ isAuth, logout }) => {\r\n  return (\r\n    <nav>\r\n      <h1 className=\"logo\">\r\n        <Link to=\"/\">Blog</Link>\r\n      </h1>\r\n      {isAuth && (\r\n        <ul>\r\n          <li className=\"nav-item\">\r\n            <NavLink exact to=\"/\" activeClassName=\"selected\">\r\n              Home\r\n            </NavLink>\r\n          </li>\r\n          <li className=\"nav-item\">\r\n            <button className=\"nav-btn\" onClick={logout}>\r\n              Logout\r\n            </button>\r\n          </li>\r\n        </ul>\r\n      )}\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import './loader.css';\n\nconst Loader = () => (\n  <div className=\"loader\">\n    <div />\n    <div />\n    <div />\n    <div />\n  </div>\n);\n\nexport default Loader;\n","import { useField } from 'formik';\r\n\r\nconst TextInput = ({ label, ...props }) => {\r\n  const [field, meta] = useField(props);\r\n  return (\r\n    <>\r\n      <label htmlFor={props.id || props.name}>{label}</label>\r\n\r\n      <input\r\n        className={meta.touched && meta.error ? 'input-error' : ''}\r\n        {...field}\r\n        {...props}\r\n      />\r\n\r\n      {meta.touched && meta.error ? (\r\n        <div className=\"error\">{meta.error}</div>\r\n      ) : null}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TextInput;\r\n","import { Form, Formik } from 'formik';\r\nimport * as Yup from 'yup';\r\n\r\nimport Loader from '../../components/loader/loader';\r\nimport TextInput from '../../components/textinput/textinput';\r\n\r\nimport './loginPage.css';\r\n\r\nconst LoginPage = ({ login, error, loggingIn }) => {\r\n  return (\r\n    <section className=\"login-container\">\r\n      <Formik\r\n        initialValues={{\r\n          userName: '',\r\n          password: '',\r\n        }}\r\n        validationSchema={Yup.object({\r\n          userName: Yup.string()\r\n            .max(15, 'Must be 15 characters or less')\r\n            .required('Required'),\r\n          password: Yup.string()\r\n            .max(15, 'Must be 15 characters or less')\r\n            .required('Required'),\r\n        })}\r\n        onSubmit={(values) => login(values)}\r\n      >\r\n        <Form className=\"auth-form\">\r\n          <h2 className=\"auth-form-header\">LogIn</h2>\r\n          {error && <p className=\"error auth-form-p\">{error}</p>}\r\n          <TextInput\r\n            label=\"User Name\"\r\n            name=\"userName\"\r\n            type=\"text\"\r\n            placeholder=\"user name\"\r\n          />\r\n          <TextInput\r\n            label=\"password\"\r\n            name=\"password\"\r\n            type=\"password\"\r\n            placeholder=\"password\"\r\n          />\r\n          {!loggingIn && (\r\n            <button className=\"auth-form-btn\" type=\"submit\">\r\n              LogIn\r\n            </button>\r\n          )}\r\n          {loggingIn && <Loader />}\r\n        </Form>\r\n      </Formik>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default LoginPage;\r\n","import { Link } from 'react-router-dom';\r\n\r\nimport './post-card.css';\r\n\r\nconst PostCard = ({ post, deletePost, editPost }) => {\r\n  return (\r\n    <section className=\"post-card\" key={post._id}>\r\n      <img\r\n        src={`https://guarded-bayou-18266.herokuapp.com/${post.image}`}\r\n        alt=\"\"\r\n        className=\"post-card-image\"\r\n      />\r\n      <div className=\"post-card-detail\">\r\n        <h2 className=\"post-card-title\">{post.title}</h2>\r\n        <p className=\"post-card-desc\">{post.description}</p>\r\n        <p>\r\n          Views: <span className=\"post-card-view\">{post.views}</span>\r\n        </p>\r\n        <p>\r\n          Comments:{' '}\r\n          <span className=\"post-card-view\">{post.comments.length}</span>\r\n        </p>\r\n        <div className=\"post-card-buttons\">\r\n          <Link\r\n            className=\"post-card-btn post-btn-view\"\r\n            to={`/post/${post._id}`}\r\n          >\r\n            View\r\n          </Link>\r\n          <button\r\n            className=\"post-card-btn post-btn-edit\"\r\n            onClick={() => editPost(post)}\r\n          >\r\n            Edit\r\n          </button>\r\n          <button\r\n            className=\"post-card-btn post-btn-delete\"\r\n            onClick={() => deletePost(post._id)}\r\n          >\r\n            Delete\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default PostCard;\r\n","import './error.css';\r\n\r\nconst Error = ({ message }) => {\r\n  const onBtnClick = () => {\r\n    window.location.reload();\r\n  };\r\n\r\n  return (\r\n    <div className=\"error-container\">\r\n      <div className=\"overlay\"></div>\r\n      <div className=\"error-card\">\r\n        <h2>Error</h2>\r\n        <p>{message}</p>\r\n        <button className=\"error-button\" onClick={onBtnClick}>\r\n          Close\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Error;\r\n","import { useField } from 'formik';\r\n\r\nconst TextField = ({ label, ...props }) => {\r\n  const [field, meta] = useField(props);\r\n  return (\r\n    <>\r\n      <label htmlFor={props.id || props.name}>{label}</label>\r\n\r\n      <textarea\r\n        className={meta.touched && meta.error ? 'input-error' : ''}\r\n        {...field}\r\n        {...props}\r\n      ></textarea>\r\n\r\n      {meta.touched && meta.error ? (\r\n        <div className=\"error\">{meta.error}</div>\r\n      ) : null}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TextField;\r\n","import { Form, Formik } from 'formik';\r\nimport { useHistory } from 'react-router';\r\nimport { useState } from 'react';\r\nimport * as Yup from 'yup';\r\n\r\nimport TextInput from '../../components/textinput/textinput';\r\nimport TextField from '../../components/textfield/textfield';\r\nimport Loader from '../../components/loader/loader';\r\n\r\nimport './createPage.css';\r\n\r\nconst CreatePage = ({ title, description, editing, id, close }) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const history = useHistory();\r\n\r\n  const handleSubmit = async (values) => {\r\n    try {\r\n      setLoading(true);\r\n      const token = localStorage.getItem('token');\r\n      const formData = new FormData();\r\n      formData.append('title', values.title);\r\n      formData.append('description', values.description);\r\n      if (values.image) {\r\n        formData.append('image', values.image);\r\n      }\r\n      let res;\r\n      if (editing) {\r\n        res = await fetch(\r\n          `https://guarded-bayou-18266.herokuapp.com/api/v1/post/${id}`,\r\n          {\r\n            method: 'PATCH',\r\n            body: formData,\r\n            headers: {\r\n              Authorization: `Bearer ${token}`,\r\n            },\r\n          }\r\n        );\r\n      } else {\r\n        res = await fetch(\r\n          `https://guarded-bayou-18266.herokuapp.com/api/v1/posts`,\r\n          {\r\n            method: 'PUT',\r\n            body: formData,\r\n            headers: {\r\n              Authorization: `Bearer ${token}`,\r\n            },\r\n          }\r\n        );\r\n      }\r\n      const data = await res.json();\r\n      if (res.status !== 200) {\r\n        setError(data);\r\n        setLoading(false);\r\n      } else {\r\n        setLoading(false);\r\n        history.push(`/post/${data.post._id}`);\r\n      }\r\n    } catch (err) {\r\n      setError(err);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section\r\n      className={\r\n        editing ? 'create-container hover-container' : 'create-container'\r\n      }\r\n    >\r\n      <Formik\r\n        initialValues={{\r\n          title: title || '',\r\n          description: description || '',\r\n          image: '',\r\n        }}\r\n        validationSchema={Yup.object({\r\n          title: Yup.string()\r\n            .max(100, 'Must be 100 characters or less')\r\n            .required('Required'),\r\n          description: Yup.string().required('Required'),\r\n        })}\r\n        onSubmit={(values) => {\r\n          handleSubmit(values);\r\n        }}\r\n      >\r\n        {(formProps) => (\r\n          <Form className=\"create-form\" encType=\"multipart/form-data\">\r\n            <h2 className=\"create-form-header\">\r\n              {editing ? 'Edit Post' : 'Create Post'}\r\n            </h2>\r\n            <TextInput\r\n              label=\"Title\"\r\n              name=\"title\"\r\n              type=\"text\"\r\n              placeholder=\"Post Title\"\r\n            />\r\n            <label>Image</label>\r\n            <input\r\n              label=\"Image\"\r\n              name=\"image\"\r\n              type=\"file\"\r\n              placeholder=\"Post Image\"\r\n              onChange={(event) => {\r\n                formProps.setFieldValue('image', event.target.files[0]);\r\n              }}\r\n            />\r\n            <TextField\r\n              label=\"Content\"\r\n              name=\"description\"\r\n              placeholder=\"Post Content\"\r\n            />\r\n            {error && <p className=\"error create-form-p\">{error.message}</p>}\r\n            <div className=\"create-form-btns\">\r\n              {editing && !loading && (\r\n                <button\r\n                  className=\"create-form-btn create-form-close\"\r\n                  onClick={close}\r\n                >\r\n                  Close\r\n                </button>\r\n              )}\r\n              {!loading && (\r\n                <button type=\"submit\" className=\"create-form-btn\">\r\n                  Submit\r\n                </button>\r\n              )}\r\n            </div>\r\n            {loading && <Loader />}\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default CreatePage;\r\n","import { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport PostCard from '../../components/post-card/post-card';\r\nimport Error from '../../components/error/error';\r\n\r\nimport './mainPage.css';\r\nimport CreatePage from '../createPage/createPage';\r\n\r\nconst MainPage = () => {\r\n  const [posts, setPosts] = useState([]);\r\n  const [error, setError] = useState(null);\r\n  const [editing, setEditing] = useState(false);\r\n  const [post, setPost] = useState({});\r\n  const fetchPosts = async () => {\r\n    try {\r\n      const res = await fetch(\r\n        'https://guarded-bayou-18266.herokuapp.com/api/v1/posts/all'\r\n      );\r\n      const data = await res.json();\r\n      if (res.status === 200) {\r\n        setPosts(data.posts);\r\n      } else {\r\n        setError(data);\r\n      }\r\n    } catch (err) {\r\n      setError(err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchPosts();\r\n  }, []);\r\n\r\n  const handlePostDelete = async (postId) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const res = await fetch(\r\n        `https://guarded-bayou-18266.herokuapp.com/api/v1/posts`,\r\n        {\r\n          method: 'DELETE',\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n            postId,\r\n          },\r\n        }\r\n      );\r\n      const data = await res.json();\r\n      if (res.status !== 200) {\r\n        setError(data);\r\n        return;\r\n      } else {\r\n        const arr = posts.filter((x) => x._id !== data.post._id);\r\n        setPosts(arr);\r\n        return;\r\n      }\r\n    } catch (err) {\r\n      setError(err);\r\n    }\r\n  };\r\n\r\n  const handlePostEdit = (post) => {\r\n    setPost({ ...post });\r\n    setEditing(true);\r\n  };\r\n\r\n  const handleCloseEdit = () => {\r\n    setEditing(false);\r\n    setPost({});\r\n  };\r\n\r\n  if (error) {\r\n    return <Error message={error.message} />;\r\n  } else {\r\n    return (\r\n      <>\r\n        {editing && (\r\n          <CreatePage\r\n            title={post.title}\r\n            description={post.description}\r\n            editing={true}\r\n            id={post._id}\r\n            close={handleCloseEdit}\r\n          />\r\n        )}\r\n        {!editing && (\r\n          <main className=\"main-container\">\r\n            <Link to=\"/create\" className=\"main-create-link\">\r\n              Create Post\r\n            </Link>\r\n            {posts.map((x) => {\r\n              return (\r\n                <PostCard\r\n                  post={x}\r\n                  key={x._id}\r\n                  deletePost={handlePostDelete}\r\n                  editPost={handlePostEdit}\r\n                />\r\n              );\r\n            })}\r\n          </main>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n};\r\n\r\nexport default MainPage;\r\n","import './social.css';\r\n\r\nconst Social = () => {\r\n  return (\r\n    <div className=\"social\">\r\n      <a href=\"#comments\">\r\n        <svg\r\n          version=\"1.1\"\r\n          width=\"28\"\r\n          height=\"28\"\r\n          viewBox=\"0 0 28 28\"\r\n          aria-hidden=\"true\"\r\n          className=\"symbol-social symbol-social-comments\"\r\n        >\r\n          <path d=\"M22 12q0 2.172-1.469 4.016t-4.008 2.914-5.523 1.070q-1.344 0-2.75-0.25-1.937 1.375-4.344 2-0.562 0.141-1.344 0.25h-0.047q-0.172 0-0.32-0.125t-0.18-0.328q-0.016-0.047-0.016-0.102t0.008-0.102 0.031-0.094l0.039-0.078t0.055-0.086 0.063-0.078 0.070-0.078 0.063-0.070q0.078-0.094 0.359-0.391t0.406-0.461 0.352-0.453 0.391-0.602 0.32-0.688q-1.937-1.125-3.047-2.766t-1.109-3.5q0-2.172 1.469-4.016t4.008-2.914 5.523-1.070 5.523 1.070 4.008 2.914 1.469 4.016zM28 16q0 1.875-1.109 3.508t-3.047 2.758q0.156 0.375 0.32 0.688t0.391 0.602 0.352 0.453 0.406 0.461 0.359 0.391q0.016 0.016 0.063 0.070t0.070 0.078 0.063 0.078 0.055 0.086l0.039 0.078t0.031 0.094 0.008 0.102-0.016 0.102q-0.047 0.219-0.203 0.344t-0.344 0.109q-0.781-0.109-1.344-0.25-2.406-0.625-4.344-2-1.406 0.25-2.75 0.25-4.234 0-7.375-2.063 0.906 0.063 1.375 0.063 2.516 0 4.828-0.703t4.125-2.016q1.953-1.437 3-3.313t1.047-3.969q0-1.203-0.359-2.375 2.016 1.109 3.187 2.781t1.172 3.594z\"></path>\r\n        </svg>\r\n      </a>\r\n      <a href=\"www.facebook.com\">\r\n        <svg\r\n          version=\"1.1\"\r\n          width=\"16\"\r\n          height=\"28\"\r\n          viewBox=\"0 0 16 28\"\r\n          aria-hidden=\"true\"\r\n          className=\"symbol-social symbol-social-facebook\"\r\n        >\r\n          <path d=\"M14.984 0.187v4.125h-2.453q-1.344 0-1.813 0.562t-0.469 1.687v2.953h4.578l-0.609 4.625h-3.969v11.859h-4.781v-11.859h-3.984v-4.625h3.984v-3.406q0-2.906 1.625-4.508t4.328-1.602q2.297 0 3.563 0.187z\"></path>\r\n        </svg>\r\n      </a>\r\n      <a href=\"www.twitter.com\">\r\n        <svg\r\n          version=\"1.1\"\r\n          width=\"26\"\r\n          height=\"28\"\r\n          viewBox=\"0 0 26 28\"\r\n          aria-hidden=\"true\"\r\n          className=\"symbol-social symbol-social-twitter\"\r\n        >\r\n          <path d=\"M25.312 6.375q-1.047 1.531-2.531 2.609 0.016 0.219 0.016 0.656 0 2.031-0.594 4.055t-1.805 3.883-2.883 3.289-4.031 2.281-5.047 0.852q-4.234 0-7.75-2.266 0.547 0.063 1.219 0.063 3.516 0 6.266-2.156-1.641-0.031-2.938-1.008t-1.781-2.492q0.516 0.078 0.953 0.078 0.672 0 1.328-0.172-1.75-0.359-2.898-1.742t-1.148-3.211v-0.063q1.062 0.594 2.281 0.641-1.031-0.688-1.641-1.797t-0.609-2.406q0-1.375 0.688-2.547 1.891 2.328 4.602 3.727t5.805 1.555q-0.125-0.594-0.125-1.156 0-2.094 1.477-3.57t3.57-1.477q2.188 0 3.687 1.594 1.703-0.328 3.203-1.219-0.578 1.797-2.219 2.781 1.453-0.156 2.906-0.781z\"></path>\r\n        </svg>\r\n      </a>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Social;\r\n","import React from 'react';\n\nimport Social from '../social/social';\n\nimport './post.css';\n\nconst Post = ({ data }) => {\n  const { title, description, image, author, createdAt } = data;\n  const createMarkup = () => {\n    return { __html: description };\n  };\n  return (\n    <div className=\"post-container\">\n      <figure className=\"post-fig\">\n        <img\n          src={'https://guarded-bayou-18266.herokuapp.com/' + image}\n          alt={title}\n          className=\"post-image\"\n        />\n        <figcaption className=\"post-header\">{title}</figcaption>\n      </figure>\n      <p className=\"post-by\">\n        By <span className=\"post-author\">{author.userName}</span> on {createdAt}\n      </p>\n      <hr />\n      <div className=\"post-grid\">\n        <Social />\n        <article\n          className=\"post-body\"\n          dangerouslySetInnerHTML={createMarkup()}\n        ></article>\n      </div>\n    </div>\n  );\n};\n\nexport default Post;\n","import './comment-card.css';\r\n\r\nconst CommentCard = ({ comments, handleDelete }) => {\r\n  const commentsArr = comments.map((comment) => {\r\n    return (\r\n      <div className=\"comment-card\" key={comment._id}>\r\n        <div className=\"comment-flex\">\r\n          <p className=\"comment-user\">{comment.userName}</p>\r\n          <small className=\"comment-date\">{comment.createdAt}</small>\r\n        </div>\r\n        <p className=\"comment-body\">{comment.description}</p>\r\n        <button\r\n          className=\"comment-delete-btn\"\r\n          onClick={() => handleDelete(comment._id)}\r\n        >\r\n          Delete\r\n        </button>\r\n      </div>\r\n    );\r\n  });\r\n  return commentsArr;\r\n};\r\n\r\nexport default CommentCard;\r\n","import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport Post from '../../components/post/post';\nimport CommentCard from '../../components/comment-card/comment-card';\nimport Error from '../../components/error/error';\nimport Loader from '../../components/loader/loader';\n\nimport './postPage.css';\n\nconst PostPage = () => {\n  const { id } = useParams();\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [data, setData] = useState(null);\n\n  const fetchpost = async () => {\n    try {\n      const res = await fetch(\n        `https://guarded-bayou-18266.herokuapp.com/api/v1/post/${id}`\n      );\n      const data = await res.json();\n      if (res.status === 200) {\n        setData((old) => (old = data));\n        setLoading(false);\n      } else {\n        setLoading(false);\n        setError(data);\n      }\n    } catch (err) {\n      setLoading(false);\n      setError(data);\n    }\n  };\n\n  const deleteComment = async (commentId) => {\n    try {\n      const token = localStorage.getItem('token');\n      const res = await fetch(\n        `https://guarded-bayou-18266.herokuapp.com/api/v1/post/${id}/comment`,\n        {\n          method: 'DELETE',\n          headers: {\n            commentId: commentId,\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      );\n      const comment = await res.json();\n      if (res.status === 200) {\n        window.location.reload();\n      } else {\n        console.log(data.message);\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    fetchpost();\n  }, []);\n\n  if (error) {\n    return <Error message={error.message} />;\n  }\n  if (loading) {\n    return (\n      <div className=\"center-container\">\n        <Loader />\n      </div>\n    );\n  }\n  if (data) {\n    return (\n      <>\n        <Post data={data} />\n        <div className=\"comments-container\" id=\"comments\">\n          <CommentCard comments={data.comments} handleDelete={deleteComment} />\n        </div>\n      </>\n    );\n  }\n};\n\nexport default PostPage;\n","import { useState, useEffect } from 'react';\nimport { Route, useHistory } from 'react-router';\n\nimport Navbar from './components/nav/navbar';\nimport LoginPage from './pages/loginPage/loginPage';\nimport MainPage from './pages/mainPage/mainPage';\nimport PostPage from './pages/postPage/postPage';\nimport CreatePage from './pages/createPage/createPage';\n\nfunction App() {\n  const [loading, setLoading] = useState(true);\n  const [isAuth, setIsAuth] = useState(false);\n  const [loggingIn, setLoggingin] = useState(false);\n  const [loginError, setLoginError] = useState(null);\n\n  const history = useHistory();\n\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    const expiryDate = localStorage.getItem('expiry');\n    if (!token) {\n      setLoading(false);\n      return;\n    } else if (expiryDate < Date.now()) {\n      localStorage.removeItem('token');\n      localStorage.removeItem('expiry');\n      setLoading(false);\n      return;\n    } else {\n      setIsAuth(true);\n      setLoading(false);\n    }\n  }, []);\n\n  const login = async (values) => {\n    setLoggingin(true);\n    const res = await fetch(\n      'https://guarded-bayou-18266.herokuapp.com/api/v1/auth/login',\n      {\n        method: 'POST',\n        headers: { 'content-type': 'application/json' },\n        body: JSON.stringify(values),\n      }\n    );\n    const data = await res.json();\n    if (res.status !== 200) {\n      setLoginError(data.message);\n      setLoggingin(false);\n      return;\n    } else {\n      setIsAuth(true);\n      localStorage.setItem('token', data.token);\n      const expiry = Date.now() + 7200000;\n      localStorage.setItem('expiry', expiry);\n      setLoggingin(false);\n    }\n  };\n\n  const logout = () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('expiry');\n    setIsAuth(false);\n    history.push('/');\n  };\n\n  if (loading) {\n    return (\n      <>\n        <Navbar isAuth={isAuth} logout={logout} />\n      </>\n    );\n  } else if (!isAuth) {\n    return (\n      <>\n        <Navbar isAuth={isAuth} logout={logout} />\n        <LoginPage login={login} error={loginError} loggingIn={loggingIn} />\n      </>\n    );\n  } else {\n    return (\n      <>\n        <Navbar isAuth={isAuth} logout={logout} />\n        <Route exact path=\"/\">\n          <MainPage />\n        </Route>\n        <Route path=\"/post/:id\">\n          <PostPage />\n        </Route>\n        <Route exact path=\"/create\">\n          <CreatePage />\n        </Route>\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nimport App from './App';\n\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router basename=\"/blog-admin\">\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}